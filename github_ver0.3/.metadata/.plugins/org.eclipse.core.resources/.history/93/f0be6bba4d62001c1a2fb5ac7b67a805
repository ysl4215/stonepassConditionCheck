package com.swempire.web.condition.controller;

import javax.inject.Inject;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;

import com.swempire.web.condition.VO.ConditionVO;
import com.swempire.web.condition.service.ConditionService;

@Controller
public class ConditionController {
		

	  @Inject
	  private ConditionService conditionservice;
		
		/* 메인화면 */
		@RequestMapping(value = "/condition", method = RequestMethod.GET)
		public String condition(Model model,
				@RequestParam(required = false, defaultValue = "x") String arr
				)throws Exception{
			System.out.println("get");
			System.out.println(arr);
			model.addAttribute("boardList", conditionservice.getBoardList());
			
			return "/condition/condition";
		}
		
		
		/* 메인화면 */
		@RequestMapping(value = "/condition", method = RequestMethod.POST)
		public String condition2(@RequestParam(required = false, defaultValue = "1") String orga_name,
				@RequestParam(required = false, defaultValue = "1") String orga_url
				,@RequestParam(required = false, defaultValue = "3") String arr
				,@RequestParam(required = false, defaultValue = "x") String input_check,
				ConditionVO conditionvo
				) throws Exception{
			System.out.println("post");
			System.out.println(arr);
			
			conditionvo.setOrga_name(orga_name);
			conditionvo.setOrga_url(orga_url);
			
			//conditionservice.insertBoard(conditionvo);
		
			return "redirect:/condition";
		}
		
		/* 팝업창 */
		@GetMapping("/condition/organization")
		public void organizationGET() throws Exception{
			
		
			/* logger.info("authorPopGET......."); */
		
		}
	
}
