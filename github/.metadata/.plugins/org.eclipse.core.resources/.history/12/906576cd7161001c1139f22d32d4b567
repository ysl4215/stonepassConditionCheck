package com.swempire.web.condition;

import java.io.BufferedReader;
import java.io.InputStreamReader;

import org.springframework.beans.factory.annotation.Autowired;

public class Curl2 extends Exception{
	

	
	
	
	StringBuilder sb = new StringBuilder();
	
	
	

		String osName = System.getProperty("os.name");
		
		String dataBody;
		String command;
		
		
		ProcessBuilder builder;
		
		builder = new ProcessBuilder("cmd.exe", "/y", "/c", command);
		
		dataBody ="\"{\\\"from\\\": \\\"value\\\"}\";
				
				if(osName.toLowerCase().startWith("window")) {
					command = "curl -X GET --header \"Content-Type: application/json;charset=euc-kr\" \""+"http://localhost:8080"+"\" --data "+dataBody;
					builder = new ProcessBuilder("cmd.exe", "/y", "/c", command);
				}
		
		builder.redirectErrorStream(false);
		Process p= builder.start();
		BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));
		String line;
		
		while((line = r.readLine()) !=null  ) {
			sb.append(line).append("\n");
			
		}
		
		
		
		

	
}

	
	
	
	
	

	

